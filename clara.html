<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CallFlow Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4f46e5;
            --secondary: #7c3aed;
            --accent: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
            min-height: 100vh;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.25);
            transform: translateY(-2px);
        }
        
        .glass-nav {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-right: 1px solid rgba(226, 232, 240, 0.6);
        }
        
        .glass-input {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            color: #1e293b;
            transition: all 0.3s ease;
        }
        
        .glass-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        
        .glass-input::placeholder {
            color: #94a3b8;
        }
        
        .glass-button {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            transition: all 0.3s ease;
            color: var(--primary);
            font-weight: 500;
        }
        
        .glass-button:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }
        
        .primary-button {
            background: var(--primary);
            color: white;
            transition: all 0.3s ease;
        }
        
        .primary-button:hover {
            background: #4338ca;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
        }
        
        .glass-table {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .glass-modal {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 20px 40px rgba(15, 23, 42, 0.2);
        }
        
        .error-text {
            color: var(--error);
        }
        
        .success-text {
            color: var(--accent);
        }
        
        .warning-text {
            color: var(--warning);
        }
        
        .highlight-error {
            background: rgba(239, 68, 68, 0.1);
        }
        
        .toast {
            animation: slideIn 0.5s, fadeOut 0.5s 2.5s forwards;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes fadeOut {
            to { opacity: 0; }
        }
        
        .blob {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.2;
            z-index: -1;
        }
        
        .blob-1 {
            background: var(--primary);
            top: 10%;
            left: 10%;
            animation: float 15s infinite ease-in-out;
        }
        
        .blob-2 {
            background: var(--secondary);
            bottom: 10%;
            right: 10%;
            animation: float 18s infinite ease-in-out reverse;
        }
        
        .blob-3 {
            background: var(--accent);
            top: 60%;
            left: 30%;
            animation: float 12s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(50px, 50px); }
            50% { transform: translate(0, 100px); }
            75% { transform: translate(-50px, 50px); }
        }
        
        .nav-link {
            color: #64748b;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--primary);
            background: rgba(79, 70, 229, 0.08);
        }
        
        .nav-link.active {
            color: var(--primary);
            background: rgba(79, 70, 229, 0.15);
        }
        
        .sidebar-divider {
            border-color: rgba(226, 232, 240, 0.6);
        }
        
        .stat-card {
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, rgba(79, 70, 229, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%);
        }
        
        .recording-card {
            background: rgba(255, 255, 255, 0.9);
            border-left: 4px solid var(--primary);
            transition: all 0.3s ease;
        }
        
        .recording-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 to-purple-50">
    <!-- Background blobs -->
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>
    
    <!-- Auth State -->
    <div id="auth-state" class="hidden"></div>
    
    <!-- Login Page -->
    <div id="login-page" class="min-h-screen flex items-center justify-center p-4">
        <div class="glass-card p-8 rounded-2xl w-full max-w-md mx-4">
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center bg-indigo-100 p-4 rounded-full mb-4">
                    <i class="fas fa-phone-alt text-2xl text-indigo-600"></i>
                </div>
                <h1 class="text-3xl font-bold text-slate-800">CallFlow Dashboard</h1>
                <p class="text-slate-500 mt-2">Sign in to your account</p>
            </div>
            <form id="login-form" class="space-y-6">
                <div>
                    <label for="email" class="block text-sm font-medium text-slate-700 mb-1">Email</label>
                    <input type="email" id="email" required
                         class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-slate-700 mb-1">Password</label>
                    <input type="password" id="password" required
                         class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                </div>
                <div>
                    <button type="submit" class="primary-button w-full flex justify-center py-3 px-4 rounded-xl shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Sign in
                    </button>
                </div>
                <p class="text-sm text-center text-slate-500">
                    Test credentials: test@example.com / Test1234!
                </p>
            </form>
        </div>
    </div>
    
    <!-- Main App (hidden by default) -->
    <div id="app-container" class="hidden">
        <!-- Sidebar -->
        <div id="sidebar" class="glass-nav fixed inset-y-0 left-0 w-64 shadow-lg">
            <div class="flex items-center justify-between p-6 border-b border-slate-200">
                <div class="flex items-center">
                    <div class="bg-indigo-100 p-2 rounded-lg mr-3">
                        <i class="fas fa-phone-alt text-indigo-600"></i>
                    </div>
                    <h1 class="text-xl font-bold text-slate-800">CallFlow</h1>
                </div>
                <button id="sidebar-toggle" class="text-slate-500 focus:outline-none hover:text-slate-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav class="p-6">
                <ul class="space-y-1">
                    <li>
                        <a href="#" data-page="dashboard" class="flex items-center p-3 rounded-xl nav-link active">
                            <i class="fas fa-tachometer-alt mr-3 text-indigo-500"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="trigger-call" class="flex items-center p-3 rounded-xl nav-link">
                            <i class="fas fa-phone-alt mr-3 text-indigo-500"></i>
                            <span>Trigger Call</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="call-history" class="flex items-center p-3 rounded-xl nav-link">
                            <i class="fas fa-history mr-3 text-indigo-500"></i>
                            <span>Call History</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="recordings" class="flex items-center p-3 rounded-xl nav-link">
                            <i class="fas fa-microphone-alt mr-3 text-indigo-500"></i>
                            <span>Recordings</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="reports" class="flex items-center p-3 rounded-xl nav-link">
                            <i class="fas fa-chart-bar mr-3 text-indigo-500"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="analytics" class="flex items-center p-3 rounded-xl nav-link">
                            <i class="fas fa-chart-pie mr-3 text-indigo-500"></i>
                            <span>Analytics</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="logs" class="flex items-center p-3 rounded-xl nav-link">
                            <i class="fas fa-terminal mr-3 text-indigo-500"></i>
                            <span>Logs</span>
                        </a>
                    </li>
                    <li class="pt-4 mt-4 border-t sidebar-divider">
                        <a href="#" data-page="settings" class="flex items-center p-3 rounded-xl nav-link">
                            <i class="fas fa-cog mr-3 text-indigo-500"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                    <li>
                        <button id="logout-btn" class="w-full flex items-center p-3 rounded-xl nav-link text-left">
                            <i class="fas fa-sign-out-alt mr-3 text-indigo-500"></i>
                            <span>Logout</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
                
        <!-- Mobile Sidebar Toggle -->
        <button id="mobile-sidebar-toggle" class="fixed top-4 left-4 z-50 glass-button text-slate-700 p-3 rounded-full shadow-lg md:hidden focus:outline-none">
            <i class="fas fa-bars"></i>
        </button>
                
        <!-- Main Content -->
        <div id="page-content" class="min-h-screen ml-0 md:ml-64 transition-all duration-300">
            <!-- Header -->
            <header class="glass-card shadow-sm">
                <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center">
                    <h1 id="page-title" class="text-lg font-semibold text-slate-800">Dashboard</h1>
                    <div class="flex items-center space-x-4">
                        <div class="relative">
                            <button id="notifications-btn" class="glass-button p-2 rounded-full focus:outline-none">
                                <i class="fas fa-bell text-slate-600"></i>
                                <span id="notification-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
                            </button>
                        </div>
                        <div class="flex items-center glass-button px-3 py-1 rounded-full">
                            <img class="h-8 w-8 rounded-full" src="https://cdn0.iconfinder.com/data/icons/set-ui-app-android/32/8-512.png" alt="">
                            <span class="ml-2 text-sm font-medium text-slate-700">Admin User</span>
                        </div>
                    </div>
                </div>
            </header>
                        
            <!-- Toast Notifications Container -->
            <div id="toast-container" class="fixed bottom-4 right-4 space-y-2 z-50"></div>
                        
            <!-- Page Content -->
            <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                        <div class="glass-card p-6 rounded-2xl stat-card">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-slate-500">Total Calls Today</p>
                                    <h3 id="stat-total-calls" class="text-2xl font-bold text-slate-800">0</h3>
                                 </div>
                                <div class="bg-indigo-100 p-3 rounded-full">
                                    <i class="fas fa-phone-alt text-indigo-600"></i>
                                </div>
                            </div>
                            <p class="mt-2 text-sm text-slate-500">+1% from yesterday</p>
                        </div>
                        <div class="glass-card p-6 rounded-2xl stat-card">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-slate-500">Successful Calls</p>
                                    <h3 id="stat-successful-calls" class="text-2xl font-bold text-slate-800">0</h3>
                                 </div>
                                <div class="bg-green-100 p-3 rounded-full">
                                    <i class="fas fa-check-circle text-green-600"></i>
                                </div>
                            </div>
                            <p class="mt-2 text-sm text-slate-500">75% success rate</p>
                        </div>
                        <div class="glass-card p-6 rounded-2xl stat-card">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-slate-500">Failed Calls</p>
                                    <h3 id="stat-failed-calls" class="text-2xl font-bold text-slate-800">0</h3>
                                 </div>
                                <div class="bg-red-100 p-3 rounded-full">
                                    <i class="fas fa-times-circle text-red-600"></i>
                                </div>
                            </div>
                            <p class="mt-2 text-sm text-slate-500">25% failure rate</p>
                        </div>
                        <div class="glass-card p-6 rounded-2xl stat-card">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-slate-500">Avg. Call Duration</p>
                                    <h3 id="stat-call-duration" class="text-2xl font-bold text-slate-800">0:00</h3>
                                 </div>
                                <div class="bg-purple-100 p-3 rounded-full">
                                    <i class="fas fa-clock text-purple-600"></i>
                                </div>
                            </div>
                            <p class="mt-2 text-sm text-slate-500">+0:30 from last week</p>
                        </div>
                    </div>
                                        
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="glass-card p-6 rounded-2xl">
                            <h3 class="text-lg font-medium text-slate-800 mb-4">Recent Activity</h3>
                            <div class="space-y-4">
                                <div id="recent-activity" class="space-y-4">
                                    <!-- Recent activity items will be inserted here by JavaScript -->
                                </div>
                            </div>
                        </div>
                                                    
                        <div class="glass-card p-6 rounded-2xl">
                            <h3 class="text-lg font-medium text-slate-800 mb-4">Quick Actions</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <button data-page="trigger-call" class="glass-button hover:bg-indigo-50 p-4 rounded-xl flex flex-col items-center transition border border-indigo-100">
                                    <i class="fas fa-phone-alt text-xl mb-2 text-indigo-600"></i>
                                    <span class="text-sm text-slate-700">Trigger Call</span>
                                </button>
                                <button data-page="call-history" class="glass-button hover:bg-indigo-50 p-4 rounded-xl flex flex-col items-center transition border border-indigo-100">
                                    <i class="fas fa-history text-xl mb-2 text-indigo-600"></i>
                                    <span class="text-sm text-slate-700">Call History</span>
                                </button>
                                <button data-page="recordings" class="glass-button hover:bg-indigo-50 p-4 rounded-xl flex flex-col items-center transition border border-indigo-100">
                                    <i class="fas fa-microphone-alt text-xl mb-2 text-indigo-600"></i>
                                    <span class="text-sm text-slate-700">Recordings</span>
                                </button>
                                <button data-page="settings" class="glass-button hover:bg-indigo-50 p-4 rounded-xl flex flex-col items-center transition border border-indigo-100">
                                    <i class="fas fa-cog text-xl mb-2 text-indigo-600"></i>
                                    <span class="text-sm text-slate-700">Settings</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                                
                <!-- Trigger Call Page -->
                <div id="trigger-call-page" class="page-content hidden">
                    <div class="glass-card rounded-2xl p-6">
                        <h2 class="text-xl font-semibold text-slate-800 mb-6">Trigger Outbound Call</h2>
                        <form id="trigger-call-form" class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="call-name" class="block text-sm font-medium text-slate-700 mb-1">Name</label>
                                    <input type="text" id="call-name" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                                <div>
                                    <label for="call-phone" class="block text-sm font-medium text-slate-700 mb-1">Phone Number</label>
                                    <input type="tel" id="call-phone" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="call-policy" class="block text-sm font-medium text-slate-700 mb-1">Policy Number</label>
                                    <input type="text" id="call-policy" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                                <div>
                                    <label for="call-plan" class="block text-sm font-medium text-slate-700 mb-1">Plan Name</label>
                                    <input type="text" id="call-plan" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label for="call-amount" class="block text-sm font-medium text-slate-700 mb-1">Premium Amount</label>
                                    <input type="number" step="100" id="call-amount" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                                <div>
                                    <label for="call-currency" class="block text-sm font-medium text-slate-700 mb-1">Currency</label>
                                    <select id="call-currency" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                        <option value="PHP" selected>PHP</option>
                                        <option value="USD">USD</option>
                                        <option value="EUR">EUR</option>
                                        <option value="GBP">GBP</option>
                                        <option value="CAD">CAD</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="call-due-date" class="block text-sm font-medium text-slate-700 mb-1">Due Date</label>
                                    <input type="date" id="call-due-date" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                            </div>
                            <div class="pt-4">
                                <button type="submit" class="primary-button px-6 py-3 text-white rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    Trigger Call
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                                
                <!-- Call History Page -->
                <div id="call-history-page" class="page-content hidden">
                    <div class="glass-card rounded-2xl p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold text-slate-800">Call History</h2>
                            <div class="flex space-x-2">
                                <div class="relative">
                                    <input type="text" placeholder="Search..."
                                        class="glass-input pl-8 pr-4 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                    <i class="fas fa-search absolute left-3 top-3 text-slate-400"></i>
                                </div>
                                <select class="glass-input border border-slate-200 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                    <option>All Status</option>
                                    <option>Completed</option>
                                    <option>Failed</option>
                                    <option>No Answer</option>
                                </select>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="glass-table min-w-full divide-y divide-slate-200 rounded-xl">
                                <thead class="bg-slate-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Timestamp</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Phone</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Policy #</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Status</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Duration</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-200" id="call-history-body">
                                    <!-- Call history rows will be inserted here by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        <div class="flex items-center justify-between mt-4">
                            <div class="text-sm text-slate-500">
                                Showing <span id="call-start">1</span> to <span id="call-end">10</span> of <span id="call-total">24</span> calls
                            </div>
                            <div class="flex space-x-2">
                                <button class="glass-button px-3 py-1 rounded-xl border border-slate-200 disabled:opacity-50" disabled>
                                    Previous
                                </button>
                                <button class="glass-button px-3 py-1 rounded-xl border border-slate-200">
                                    Next
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recordings Page -->
                <div id="recordings-page" class="page-content hidden">
                    <div class="glass-card rounded-2xl p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold text-slate-800">Call Recordings</h2>
                            <div class="flex space-x-2">
                                <div class="relative">
                                    <input type="text" placeholder="Search recordings..."
                                        class="glass-input pl-8 pr-4 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                    <i class="fas fa-search absolute left-3 top-3 text-slate-400"></i>
                                </div>
                                <select class="glass-input border border-slate-200 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                    <option>All Recordings</option>
                                    <option>Last 7 days</option>
                                    <option>Last 30 days</option>
                                    <option>Longest</option>
                                    <option>Shortest</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="space-y-4" id="recordings-container">
                            <!-- Recording cards will be inserted here by JavaScript -->
                        </div>
                        
                        <div class="flex items-center justify-between mt-6">
                            <div class="text-sm text-slate-500">
                                Showing <span id="recording-start">1</span> to <span id="recording-end">10</span> of <span id="recording-total">24</span> recordings
                            </div>
                            <div class="flex space-x-2">
                                <button class="glass-button px-3 py-1 rounded-xl border border-slate-200 disabled:opacity-50" disabled>
                                    Previous
                                </button>
                                <button class="glass-button px-3 py-1 rounded-xl border border-slate-200">
                                    Next
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                                
                <!-- Reports Page -->
                <div id="reports-page" class="page-content hidden">
                    <div class="glass-card rounded-2xl p-6">
                        <h2 class="text-xl font-semibold text-slate-800 mb-6">Generate Reports</h2>
                        <form id="report-form" class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="report-start-date" class="block text-sm font-medium text-slate-700 mb-1">Start Date</label>
                                    <input type="date" id="report-start-date" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                                <div>
                                    <label for="report-end-date" class="block text-sm font-medium text-slate-700 mb-1">End Date</label>
                                    <input type="date" id="report-end-date" required
                                        class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                </div>
                            </div>
                            <div>
                                <label for="report-type" class="block text-sm font-medium text-slate-700 mb-1">Report Type</label>
                                <select id="report-type" required
                                    class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                    <option value="summary">Summary Report</option>
                                    <option value="detailed">Detailed Call Log</option>
                                    <option value="success">Success Rate Analysis</option>
                                    <option value="duration">Duration Analysis</option>
                                </select>
                            </div>
                            <div class="pt-4">
                                <button type="submit" class="primary-button px-6 py-3 text-white rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    Generate PDF Report
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                                
                <!-- Analytics Page -->
                <div id="analytics-page" class="page-content hidden">
                    <div class="glass-card rounded-2xl p-6">
                        <h2 class="text-xl font-semibold text-slate-800 mb-6">Analytics Dashboard</h2>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                            <div class="glass-card p-4 rounded-2xl">
                                <h3 class="text-lg font-medium text-slate-800 mb-4">Calls Per Day (Last 30 Days)</h3>
                                <canvas id="calls-per-day-chart" height="300"></canvas>
                            </div>
                            <div class="glass-card p-4 rounded-2xl">
                                <h3 class="text-lg font-medium text-slate-800 mb-4">Call Success Rate</h3>
                                <canvas id="success-rate-chart" height="300"></canvas>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="glass-card p-4 rounded-2xl">
                                <h3 class="text-lg font-medium text-slate-800 mb-4">Call Duration Distribution</h3>
                                <canvas id="duration-distribution-chart" height="300"></canvas>
                            </div>
                            <div class="glass-card p-4 rounded-2xl">
                                <h3 class="text-lg font-medium text-slate-800 mb-4">Call Outcomes</h3>
                                <canvas id="call-outcomes-chart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                                
                <!-- Logs Page -->
                <div id="logs-page" class="page-content hidden">
                    <div class="glass-card rounded-2xl p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl font-semibold text-slate-800">System Logs</h2>
                            <div class="flex space-x-2">
                                <button id="refresh-logs" class="glass-button px-3 py-1 rounded-xl border border-slate-200 text-slate-700 hover:bg-slate-50">
                                    <i class="fas fa-sync-alt mr-1"></i> Refresh
                                </button>
                                <select id="log-level" class="glass-input border border-slate-200 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                    <option value="all">All Levels</option>
                                    <option value="error">Errors Only</option>
                                    <option value="warning">Warnings</option>
                                    <option value="info">Info</option>
                                </select>
                            </div>
                        </div>
                        <div class="glass-card p-4 rounded-xl">
                            <div id="logs-container" class="h-96 overflow-y-auto font-mono text-sm">
                                <!-- Logs will be inserted here by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                                
                <!-- Settings Page -->
                <div id="settings-page" class="page-content hidden">
                    <div class="glass-card rounded-2xl p-6">
                        <h2 class="text-xl font-semibold text-slate-800 mb-6">Account Settings</h2>
                        <form id="settings-form" class="space-y-6">
                            <div>
                                <h3 class="text-lg font-medium text-slate-800 mb-4">Twilio Credentials</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="twilio-sid" class="block text-sm font-medium text-slate-700 mb-1">Account SID</label>
                                        <div class="mt-1 relative rounded-xl">
                                            <input type="text" id="twilio-sid" required
                                                class="glass-input block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                                <span class="text-slate-400 sm:text-sm">*****7890</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="twilio-token" class="block text-sm font-medium text-slate-700 mb-1">Auth Token</label>
                                        <div class="mt-1 relative rounded-xl">
                                            <input type="password" id="twilio-token" required
                                                class="glass-input block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                                <span class="text-slate-400 sm:text-sm">*****abcd</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 class="text-lg font-medium text-slate-800 mb-4">Recording Settings</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="recording-storage" class="block text-sm font-medium text-slate-700 mb-1">Storage Location</label>
                                        <select id="recording-storage" required
                                            class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                            <option value="twilio">Twilio Cloud</option>
                                            <option value="aws">AWS S3</option>
                                            <option value="local">Local Server</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="recording-retention" class="block text-sm font-medium text-slate-700 mb-1">Retention Period</label>
                                        <select id="recording-retention" required
                                            class="glass-input mt-1 block w-full px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50">
                                            <option value="30">30 days</option>
                                            <option value="60">60 days</option>
                                            <option value="90">90 days</option>
                                            <option value="365">1 year</option>
                                            <option value="0">Indefinitely</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="pt-4">
                                <button type="submit" class="primary-button px-6 py-3 text-white rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                    Save Settings
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </main>
        </div>
                
        <!-- Call Detail Modal -->
        <div id="call-detail-modal" class="fixed inset-0 z-50 overflow-y-auto hidden">
            <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                    <div class="absolute inset-0 bg-black bg-opacity-30 backdrop-filter backdrop-blur-sm"></div>
                </div>
                <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
                <div class="glass-modal inline-block align-bottom rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full">
                    <div class="px-6 pt-6 pb-4">
                        <div class="sm:flex sm:items-start">
                            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full">
                                <div class="flex justify-between items-center">
                                    <h3 class="text-lg leading-6 font-medium text-slate-800" id="modal-title">Call Details</h3>
                                    <button id="close-modal" class="text-slate-500 hover:text-slate-700 focus:outline-none">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <div class="mt-4">
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <div>
                                            <p class="text-sm font-medium text-slate-500">Phone Number</p>
                                            <p id="modal-phone" class="mt-1 text-sm text-slate-800">+1 (555) 123-4567</p>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-slate-500">Policy Number</p>
                                            <p id="modal-policy" class="mt-1 text-sm text-slate-800">POL-2023-98765</p>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-slate-500">Status</p>
                                            <p id="modal-status" class="mt-1 text-sm text-slate-800">Completed</p>
                                        </div>
                                        <div>
                                            <p class="text-sm font-medium text-slate-500">Duration</p>
                                            <p id="modal-duration" class="mt-1 text-sm text-slate-800">2:45</p>
                                        </div>
                                    </div>
                                    <div class="border-t border-slate-200 pt-4">
                                        <div class="flex space-x-4 mb-4">
                                            <button id="play-audio-btn" class="primary-button px-4 py-2 text-white rounded-xl hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                                <i class="fas fa-play mr-2"></i> Play Recording
                                            </button>
                                            <button id="show-transcript-btn" class="glass-button px-4 py-2 rounded-xl border border-slate-200 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                                <i class="fas fa-scroll mr-2"></i> Show Transcript
                                            </button>
                                        </div>
                                        <div id="audio-player-container" class="hidden mb-4">
                                            <audio id="call-audio" controls class="w-full rounded-xl">
                                                Your browser does not support the audio element.
                                            </audio>
                                        </div>
                                        <div id="transcript-container" class="hidden">
                                            <h4 class="text-md font-medium text-slate-800 mb-2">Transcript</h4>
                                            <div id="call-transcript" class="glass-card p-4 rounded-xl mb-4 text-sm text-slate-700">
                                                Loading transcript...
                                            </div>
                                            <h4 class="text-md font-medium text-slate-800 mb-2">Summary</h4>
                                            <div id="call-summary" class="glass-card p-4 rounded-xl text-sm text-slate-700">
                                                Loading summary...
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="px-6 py-3 flex flex-row-reverse">
                        <button type="button" id="close-modal-btn" class="glass-button mt-3 w-full inline-flex justify-center rounded-xl border border-slate-200 shadow-sm px-4 py-2 bg-white text-base font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State management
        const state = {
            authenticated: false,
            currentPage: 'dashboard',
            callHistory: [],
            recordings: [],
            logs: [],
            settings: {
                twilioSid: 'AC1234567890abcdef1234567890abcdef',
                twilioToken: '1234567890abcdef1234567890abcdef',
                recordingStorage: 'twilio',
                recordingRetention: '30'
            }
        };

        // DOM Elements
        const elements = {
            loginPage: document.getElementById('login-page'),
            appContainer: document.getElementById('app-container'),
            authState: document.getElementById('auth-state'),
            loginForm: document.getElementById('login-form'),
            logoutBtn: document.getElementById('logout-btn'),
            sidebarToggle: document.getElementById('sidebar-toggle'),
            mobileSidebarToggle: document.getElementById('mobile-sidebar-toggle'),
            sidebar: document.getElementById('sidebar'),
            pageContent: document.getElementById('page-content'),
            pageTitle: document.getElementById('page-title'),
            toastContainer: document.getElementById('toast-container'),
            // Pages
            pages: {
                dashboard: document.getElementById('dashboard-page'),
                'trigger-call': document.getElementById('trigger-call-page'),
                'call-history': document.getElementById('call-history-page'),
                'recordings': document.getElementById('recordings-page'),
                reports: document.getElementById('reports-page'),
                analytics: document.getElementById('analytics-page'),
                logs: document.getElementById('logs-page'),
                settings: document.getElementById('settings-page')
            },
            // Forms
            triggerCallForm: document.getElementById('trigger-call-form'),
            reportForm: document.getElementById('report-form'),
            settingsForm: document.getElementById('settings-form'),
            // Call history
            callHistoryBody: document.getElementById('call-history-body'),
            // Recordings
            recordingsContainer: document.getElementById('recordings-container'),
            // Logs
            logsContainer: document.getElementById('logs-container'),
            refreshLogs: document.getElementById('refresh-logs'),
            logLevel: document.getElementById('log-level'),
            // Modal
            callDetailModal: document.getElementById('call-detail-modal'),
            closeModal: document.getElementById('close-modal'),
            closeModalBtn: document.getElementById('close-modal-btn'),
            modalPhone: document.getElementById('modal-phone'),
            modalPolicy: document.getElementById('modal-policy'),
            modalStatus: document.getElementById('modal-status'),
            modalDuration: document.getElementById('modal-duration'),
            playAudioBtn: document.getElementById('play-audio-btn'),
            showTranscriptBtn: document.getElementById('show-transcript-btn'),
            audioPlayerContainer: document.getElementById('audio-player-container'),
            callAudio: document.getElementById('call-audio'),
            transcriptContainer: document.getElementById('transcript-container'),
            callTranscript: document.getElementById('call-transcript'),
            callSummary: document.getElementById('call-summary')
        };

        // Initialize the application
        function init() {
            // Check authentication state
            checkAuth();

            // Set up event listeners
            setupEventListeners();

            // Initialize charts
            initCharts();

            // Load mock data
            loadMockData();
        }

        // Check authentication state
        function checkAuth() {
            const storedAuth = localStorage.getItem('callDashboardAuth');
            if (storedAuth) {
                try {
                    const authData = JSON.parse(storedAuth);
                    if (authData.authenticated && authData.expires > Date.now()) {
                        state.authenticated = true;
                        showApp();
                        navigateTo(state.currentPage);
                        return;
                    }
                } catch (e) {
                    console.error('Error parsing auth data', e);
                }
            }
                                
            // Not authenticated
            state.authenticated = false;
            showLogin();
        }

        // Show login page
        function showLogin() {
            elements.loginPage.classList.remove('hidden');
            elements.appContainer.classList.add('hidden');
        }

        // Show app
        function showApp() {
            elements.loginPage.classList.add('hidden');
            elements.appContainer.classList.remove('hidden');
        }

        // Set up event listeners
        function setupEventListeners() {
            // Login form
            elements.loginForm.addEventListener('submit', handleLogin);

            // Logout button
            elements.logoutBtn.addEventListener('click', handleLogout);

            // Sidebar toggle
            elements.sidebarToggle.addEventListener('click', toggleSidebar);
            elements.mobileSidebarToggle.addEventListener('click', toggleSidebar);

            // Navigation links
            document.querySelectorAll('[data-page]').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = link.getAttribute('data-page');
                    navigateTo(page);

                    // Update active state
                    document.querySelectorAll('.nav-link').forEach(navLink => {
                        navLink.classList.remove('active');
                    });
                    link.classList.add('active');
                });
            });

            // Forms
            elements.triggerCallForm.addEventListener('submit', handleTriggerCall);
            elements.reportForm.addEventListener('submit', handleGenerateReport);
            elements.settingsForm.addEventListener('submit', handleSaveSettings);

            // Logs
            elements.refreshLogs.addEventListener('click', refreshLogs);
            elements.logLevel.addEventListener('change', filterLogs);

            // Modal
            elements.closeModal.addEventListener('click', closeModal);
            elements.closeModalBtn.addEventListener('click', closeModal);
            elements.playAudioBtn.addEventListener('click', toggleAudioPlayer);
            elements.showTranscriptBtn.addEventListener('click', toggleTranscript);
        }

        // Handle login
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            // Simple validation for demo purposes
            if (email === 'allianz@test.com' && password === 'Test1234') {
                // Set auth state with expiration (1 hour)
                const authData = {
                    authenticated: true,
                    expires: Date.now() + (60 * 60 * 1000)
                };
                localStorage.setItem('callDashboardAuth', JSON.stringify(authData));
                                                
                state.authenticated = true;
                showApp();
                navigateTo('dashboard');
                showToast('Login successful', 'success');
            } else {
                showToast('Invalid credentials', 'error');
            }
        }

        // Handle logout
        function handleLogout() {
            localStorage.removeItem('callDashboardAuth');
            state.authenticated = false;
            showLogin();
            showToast('Logged out successfully', 'success');
        }

        // Toggle sidebar
        function toggleSidebar() {
            elements.sidebar.classList.toggle('hidden');
            elements.pageContent.classList.toggle('md:ml-64');
        }

        // Navigate to page
        function navigateTo(page) {
            // Hide all pages
            Object.values(elements.pages).forEach(pageEl => {
                pageEl.classList.add('hidden');
            });

            // Show selected page
            elements.pages[page].classList.remove('hidden');
            state.currentPage = page;

            // Update page title
            const pageTitles = {
                dashboard: 'Dashboard',
                'trigger-call': 'Trigger Call',
                'call-history': 'Call History',
                'recordings': 'Call Recordings',
                reports: 'Reports',
                analytics: 'Analytics',
                logs: 'System Logs',
                settings: 'Account Settings'
            };
            elements.pageTitle.textContent = pageTitles[page];

            // Load data if needed
            if (page === 'call-history') {
                renderCallHistory();
            } else if (page === 'recordings') {
                renderRecordings();
            } else if (page === 'logs') {
                renderLogs();
            } else if (page === 'settings') {
                loadSettings();
            }
        }

        // Show toast notification
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast px-4 py-3 rounded-xl shadow-md ${
                type === 'error' ? 'bg-red-500 text-white' : 
                type === 'success' ? 'bg-green-500 text-white' : 
                'bg-blue-500 text-white'
            }`;
            toast.textContent = message;
                                
            elements.toastContainer.appendChild(toast);
                                
            // Remove toast after animation
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Handle trigger call form
        function handleTriggerCall(e) {
            e.preventDefault();
                                
            // Get form values
            const callData = {
                name: document.getElementById('call-name').value,
                phone: document.getElementById('call-phone').value,
                policy: document.getElementById('call-policy').value,
                plan: document.getElementById('call-plan').value,
                amount: document.getElementById('call-amount').value,
                currency: document.getElementById('call-currency').value,
                dueDate: document.getElementById('call-due-date').value
            };

            // In a real app, you would make an API call here
            // For demo, we'll simulate a successful call
            setTimeout(() => {
                showToast('Call has been queued successfully', 'success');
                elements.triggerCallForm.reset();

                const newCall = {
                    id: Date.now().toString(),
                    timestamp: new Date().toISOString(),
                    phone: callData.phone,
                    policy: callData.policy,
                    status: 'completed',
                    duration: '1:00'
                };
                state.callHistory.unshift(newCall);

                if (state.currentPage === 'call-history') {
                    renderCallHistory();
                }
            }, 800);
        }

        // Handle generate report
        function handleGenerateReport(e) {
            e.preventDefault();
            showToast('Report generation started', 'success');
        }

        // Handle save settings
        function handleSaveSettings(e) {
            e.preventDefault();
                                
            // Get form values
            const settings = {
                twilioSid: document.getElementById('twilio-sid').value,
                twilioToken: document.getElementById('twilio-token').value,
                recordingStorage: document.getElementById('recording-storage').value,
                recordingRetention: document.getElementById('recording-retention').value
            };

            // In a real app, you would make an API call here
            // For demo, we'll simulate a successful save
            setTimeout(() => {
                showToast('Settings saved successfully', 'success');
                state.settings = settings;
            }, 800);
        }

        // Load settings into form
        function loadSettings() {
            document.getElementById('twilio-sid').value = state.settings.twilioSid;
            document.getElementById('twilio-token').value = state.settings.twilioToken;
            document.getElementById('recording-storage').value = state.settings.recordingStorage;
            document.getElementById('recording-retention').value = state.settings.recordingRetention;
        }

        // Render call history
        function renderCallHistory() {
            elements.callHistoryBody.innerHTML = '';
                                
            state.callHistory.forEach(call => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-slate-50';
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500">${formatDate(call.timestamp)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-800">${call.phone}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500">${call.policy}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${
                            call.status === 'completed' ? 'bg-green-100 text-green-800' :
                            call.status === 'failed' ? 'bg-red-100 text-red-800' :
                            'bg-yellow-100 text-yellow-800'
                        }">
                            ${call.status}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500">${call.duration}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button data-call-id="${call.id}" class="text-indigo-600 hover:text-indigo-900 mr-3 call-detail-btn">Details</button>
                    </td>
                `;
                elements.callHistoryBody.appendChild(row);
            });

            // Add event listeners to detail buttons
            document.querySelectorAll('.call-detail-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const callId = e.target.getAttribute('data-call-id');
                    showCallDetails(callId);
                });
            });
        }

        // Render recordings
        function renderRecordings() {
            elements.recordingsContainer.innerHTML = '';
            
            state.recordings.forEach(recording => {
                const recordingCard = document.createElement('div');
                recordingCard.className = 'recording-card p-4 rounded-xl flex items-center justify-between';
                recordingCard.innerHTML = `
                    <div class="flex items-center space-x-4">
                        <div class="bg-indigo-100 p-3 rounded-full">
                            <i class="fas fa-microphone-alt text-indigo-600"></i>
                        </div>
                        <div>
                            <h4 class="text-sm font-medium text-slate-800">${recording.phone}</h4>
                            <p class="text-xs text-slate-500">${formatDate(recording.timestamp)}  ${recording.duration}</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button data-recording-id="${recording.id}" class="glass-button px-3 py-1 rounded-xl text-sm play-recording-btn">
                            <i class="fas fa-play mr-1"></i> Play
                        </button>
                        <button data-recording-id="${recording.id}" class="glass-button px-3 py-1 rounded-xl text-sm transcript-btn">
                            <i class="fas fa-scroll mr-1"></i> Transcript
                        </button>
                    </div>
                `;
                elements.recordingsContainer.appendChild(recordingCard);
            });

            // Add event listeners to recording buttons
            document.querySelectorAll('.play-recording-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const recordingId = e.target.closest('button').getAttribute('data-recording-id');
                    playRecording(recordingId);
                });
            });

            document.querySelectorAll('.transcript-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const recordingId = e.target.closest('button').getAttribute('data-recording-id');
                    showTranscript(recordingId);
                });
            });
        }

        // Play recording
        function playRecording(recordingId) {
            const recording = state.recordings.find(r => r.id === recordingId);
            if (!recording) return;
            
            // In a real app, you would fetch the recording URL from the API
            // For demo, we'll use a mock recording URL
            const audio = new Audio('https://example.com/recordings/sample.mp3');
            audio.play();
            
            showToast(`Playing recording for ${recording.phone}`, 'success');
        }

        // Show transcript
        function showTranscript(recordingId) {
            const recording = state.recordings.find(r => r.id === recordingId);
            if (!recording) return;
            
            // Show modal with transcript
            elements.modalPhone.textContent = recording.phone;
            elements.modalPolicy.textContent = recording.policy || 'N/A';
            elements.modalStatus.textContent = 'Completed';
            elements.modalDuration.textContent = recording.duration;
            
            // Hide audio player, show transcript
            elements.audioPlayerContainer.classList.add('hidden');
            elements.transcriptContainer.classList.remove('hidden');
            
            // Simulate loading transcript
            elements.callTranscript.innerHTML = `
                <p><strong>Agent:</strong> Hello, this is Sarah calling from Insurance Corp about your policy renewal.</p>
                <p><strong>Customer:</strong> Hi Sarah, yes I've been expecting this call.</p>
                <p><strong>Agent:</strong> Great! I see your policy #${recording.policy || 'POL-2023-98765'} is due for renewal on ${formatDate(new Date().toISOString())}.</p>
                <p><strong>Customer:</strong> That's correct. What's the premium amount this year?</p>
                <p><strong>Agent:</strong> The annual premium is $1,200, same as last year with no increase.</p>
                <p><strong>Customer:</strong> Perfect, I'll go ahead with the renewal then.</p>
            `;
            
            elements.callSummary.innerHTML = `
                <p>Customer confirmed renewal of policy #${recording.policy || 'POL-2023-98765'} for $1,200.</p>
                <p>Payment method on file will be charged on ${formatDate(new Date().toISOString())}.</p>
                <p>Customer expressed satisfaction with the premium amount remaining unchanged.</p>
            `;
            
            // Show modal
            elements.callDetailModal.classList.remove('hidden');
        }

        // Show call details modal
        function showCallDetails(callId) {
            const call = state.callHistory.find(c => c.id === callId);
            if (!call) return;

            // Update modal content
            elements.modalPhone.textContent = call.phone;
            elements.modalPolicy.textContent = call.policy;
            elements.modalStatus.textContent = call.status;
            elements.modalDuration.textContent = call.duration;

            // Reset modal state
            elements.audioPlayerContainer.classList.add('hidden');
            elements.transcriptContainer.classList.add('hidden');
            elements.callAudio.src = '';
            elements.callTranscript.textContent = 'Loading transcript...';
            elements.callSummary.textContent = 'Loading summary...';

            // Set up audio player (mock URL for demo)
            if (call.status === 'completed') {
                elements.callAudio.src = 'https://example.com/recordings/sample.mp3';
                elements.playAudioBtn.classList.remove('hidden');
            } else {
                elements.playAudioBtn.classList.add('hidden');
            }

            // Show modal
            elements.callDetailModal.classList.remove('hidden');
        }

        // Close modal
        function closeModal() {
            elements.callDetailModal.classList.add('hidden');
            elements.callAudio.pause();
        }

        // Toggle audio player
        function toggleAudioPlayer() {
            elements.audioPlayerContainer.classList.toggle('hidden');
            if (!elements.audioPlayerContainer.classList.contains('hidden')) {
                elements.callAudio.play();
            } else {
                elements.callAudio.pause();
            }
        }

        // Toggle transcript
        function toggleTranscript() {
            elements.transcriptContainer.classList.toggle('hidden');
            if (!elements.transcriptContainer.classList.contains('hidden')) {
                // Simulate loading transcript and summary
                setTimeout(() => {
                    elements.callTranscript.innerHTML = `
                        <p><strong>Agent:</strong> Hello, this is Sarah calling from Insurance Corp about your policy renewal.</p>
                        <p><strong>Customer:</strong> Hi Sarah, yes I've been expecting this call.</p>
                        <p><strong>Agent:</strong> Great! I see your policy #POL-2023-98765 is due for renewal on ${formatDate(new Date().toISOString())}.</p>
                        <p><strong>Customer:</strong> That's correct. What's the premium amount this year?</p>
                        <p><strong>Agent:</strong> The annual premium is $1,200, same as last year with no increase.</p>
                        <p><strong>Customer:</strong> Perfect, I'll go ahead with the renewal then.</p>
                    `;
                                                    
                    elements.callSummary.innerHTML = `
                        <p>Customer confirmed renewal of policy #POL-2023-98765 for $1,200.</p>
                        <p>Payment method on file will be charged on ${formatDate(new Date().toISOString())}.</p>
                        <p>Customer expressed satisfaction with the premium amount remaining unchanged.</p>
                    `;
                }, 800);
            }
        }

        // Refresh logs
        function refreshLogs() {
            // In a real app, you would fetch logs from the API
            // For demo, we'll just re-render the existing logs
            renderLogs();
            showToast('Logs refreshed', 'success');
        }

        // Filter logs by level
        function filterLogs() {
            renderLogs();
        }

        // Render logs
        function renderLogs() {
            elements.logsContainer.innerHTML = '';
                                
            const levelFilter = elements.logLevel.value;
                                
            state.logs.forEach(log => {
                if (levelFilter !== 'all' && log.level !== levelFilter) return;
                                                
                const logEntry = document.createElement('div');
                logEntry.className = `py-2 px-2 rounded ${log.level === 'error' ? 'highlight-error' : ''}`;
                                                
                const timestamp = document.createElement('span');
                timestamp.className = 'text-slate-500 mr-2';
                timestamp.textContent = formatDateTime(log.timestamp);
                                                
                const level = document.createElement('span');
                level.className = log.level === 'error' ? 'error-text font-medium' :
                                  log.level === 'warning' ? 'warning-text font-medium' :
                                  'text-slate-700';
                level.textContent = `[${log.level.toUpperCase()}]`;
                                                
                const message = document.createElement('span');
                message.className = 'ml-2 text-slate-700';
                message.textContent = log.message;
                                                
                logEntry.appendChild(timestamp);
                logEntry.appendChild(level);
                logEntry.appendChild(message);
                                                
                elements.logsContainer.appendChild(logEntry);
            });
        }

        // Initialize charts
        function initCharts() {
            // Custom chart colors for glass morphism
            const chartColors = {
                background: 'rgba(255, 255, 255, 0.8)',
                border: 'rgba(226, 232, 240, 0.8)',
                pointBackground: 'rgba(255, 255, 255, 0.9)',
                pointBorder: 'rgba(226, 232, 240, 0.9)'
            };

            // Calls per day chart
            const callsPerDayCtx = document.getElementById('calls-per-day-chart').getContext('2d');
            new Chart(callsPerDayCtx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 30}, (_, i) => {
                        const date = new Date();
                        date.setDate(date.getDate() - (29 - i));
                        return date.toLocaleDateString('en-US', {month: 'short', day: 'numeric'});
                    }),
                    datasets: [{
                        label: 'Calls per day',
                        data: Array.from({length: 30}, () => Math.floor(Math.random() * 30) + 5),
                        backgroundColor: 'rgba(99, 102, 241, 0.1)',
                        borderColor: 'rgba(99, 102, 241, 0.8)',
                        borderWidth: 2,
                        tension: 0.1,
                        pointBackgroundColor: 'rgba(255, 255, 255, 0.9)',
                        pointBorderColor: 'rgba(99, 102, 241, 1)',
                        pointBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(226, 232, 240, 0.5)'
                            },
                            ticks: {
                                color: 'rgba(100, 116, 139, 0.7)'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(226, 232, 240, 0.5)'
                            },
                            ticks: {
                                color: 'rgba(100, 116, 139, 0.7)'
                            }
                        }
                    }
                }
            });

            // Success rate chart
            const successRateCtx = document.getElementById('success-rate-chart').getContext('2d');
            new Chart(successRateCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Success', 'Failure'],
                    datasets: [{
                        data: [75, 25],
                        backgroundColor: [
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: 'rgba(100, 116, 139, 0.8)'
                            }
                        }
                    }
                }
            });

            <canvas id="duration-distribution-chart" width="400" height="200"></canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const durationCtx = document.getElementById('duration-distribution-chart').getContext('2d');
    new Chart(durationCtx, {
        type: 'bar',
        data: {
            labels: ['<1 min', '1-2 min', '2-3 min', '3-4 min', '4-5 min', '>5 min'],
            datasets: [{
                label: 'Call Duration',
                data: [10, 25, 30, 20, 10, 5],
                backgroundColor: 'rgba(139, 92, 246, 0.7)'
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
